# 微信公众号内容编辑工具

一个强大的微信公众号文章解析、编辑和HTML生成工具，支持跨域获取公众号内容并提供丰富的编辑功能。

## 🚀 功能特色

### 📖 内容获取
- ✅ 自动解析微信公众号文章链接
- ✅ 智能提取文章标题和内容
- ✅ 处理反爬机制和验证页面
- ✅ 友好的错误处理和fallback机制

### ✏️ 富文本编辑
- ✅ 撤销/重做功能
- ✅ 多级标题支持（H1/H2/H3）
- ✅ 文字格式：粗体、斜体、下划线、删除线
- ✅ 文字颜色和背景色选择
- ✅ 文本对齐：左对齐、居中、右对齐
- ✅ 列表支持：有序列表、无序列表
- ✅ 链接插入和格式清除

### 🖼️ 图片管理
- ✅ 本地图片上传（Base64编码）
- ✅ 网络图片链接插入
- ✅ 优雅的模态对话框界面

### 👁️ 实时预览
- ✅ 编辑/预览模式切换
- ✅ 专业的预览样式渲染
- ✅ 实时更新预览内容

### 📄 HTML导出
- ✅ 4种专业模板选择：
  - 基础模板
  - 博客文章模板
  - 邮件模板
  - 微信公众号模板
- ✅ 一键复制HTML代码
- ✅ 一键下载HTML文件

## 🛠️ 技术栈

### 后端
- **Node.js** - 运行环境
- **Express.js** - Web框架
- **Cheerio** - HTML解析
- **Axios** - HTTP请求
- **CORS** - 跨域处理
- **Helmet** - 安全中间件
- **Rate Limiter** - 请求频率限制

### 前端
- **HTML5/CSS3** - 页面结构和样式
- **Tailwind CSS** - UI框架
- **JavaScript (ES6+)** - 交互逻辑
- **Font Awesome** - 图标库

## 📦 安装和使用

### 1. 环境要求
- Node.js >= 14.0.0
- npm >= 6.0.0

### 2. 安装依赖
```bash
npm install
```

### 3. 启动服务
```bash
npm run start
```

服务将在 `http://localhost:3303` 启动

### 4. 开发模式（可选）
```bash
npm run dev
```
使用nodemon进行开发，文件变更时自动重启

## 🌐 API接口

### 健康检查
```http
GET /api/health
```

**响应示例：**
```json
{
  "success": true,
  "message": "微信公众号解析服务运行正常",
  "version": "1.0.0",
  "timestamp": "2023-12-01T10:00:00.000Z"
}
```

### 解析公众号文章
```http
POST /api/wechat/parse
Content-Type: application/json

{
  "url": "https://mp.weixin.qq.com/s/..."
}
```

**响应示例：**
```json
{
  "success": true,
  "data": {
    "title": "文章标题",
    "content": "<p>文章内容...</p>",
    "url": "https://mp.weixin.qq.com/s/...",
    "parsedAt": "2023-12-01T10:00:00.000Z"
  }
}
```

## 🎯 使用流程

1. **启动服务** → 运行 `npm run start`
2. **访问工具** → 浏览器打开 `http://localhost:3303`
3. **输入链接** → 粘贴公众号文章链接
4. **获取内容** → 点击"获取内容"按钮
5. **编辑内容** → 使用富文本编辑器修改内容
6. **预览效果** → 切换到预览模式查看效果
7. **选择模板** → 选择合适的HTML模板
8. **导出使用** → 复制或下载生成的HTML

## 🔧 配置说明

### 环境变量
- `PORT` - 服务端口，默认3303
- `NODE_ENV` - 运行环境

### 速率限制
- 每分钟最多30个解析请求
- 防止频繁请求被微信封IP